---
title: js-32-js压缩原理
date: 2021-01-05 10:25:42
top: true
tags:
- 压缩
categories:
- JavaScript
---
### 一、为什么要进行Javascript压缩？
<!--more-->
1.减少JS代码容量，增加下载速度和执行速度；

2.压缩后的JS代码不具备可识性，在一定程度上达到加密效果，防止被人轻易使用。

### 二、常规Javascript压缩的原理

1.压缩多余的空格和换行符；

2.删除注释，因为注释对浏览用户是无用的，删除了可以缩小文件体积；

3.把较长的变量名称和过程名称统一替换为很短的名称。

### 三、其他Javascript压缩（加密）原理

1.加密：微软有一个控件，可以将javascript加密，加密后真的是一点都无法阅读，在运行的时候需要再用这个控件解密。加解密的过程是可逆的，所以有些基础的人还是可以破解的。此外，这个控件在浏览器里运行时会报安全警告，而且只适用于IE，所以用处不大。

2.加壳：有些工具可以将js文件打包成exe，在运行时类似于以cscript/wscript运行，这样的方法是在网页里行不通的。

3.去冗：将javascript中的注释、换行、没用的空字符都去掉，这样的做法没什么技术含量，如果没注释，用编辑器就可以做。

4.重整：利用javascript的eval函数以及正则表达式将源文件重整，这个过程也是可逆的，重整后的文件只能对付菜鸟，而且会影响加载效率。

5.压缩：这个是重点了，大家看一下jQuery的min包，主体部分除了经过去冗处理，函数内部的变量也被替换了，这样可以在不考虑阅读的情况下，最大程度减少文件长度。这个过程也是很有技术含量的，因为不能修改全局变量，否则压缩后的文件可能无法使用。


